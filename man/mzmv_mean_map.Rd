% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mzmv_estimate.R
\name{mzmv_mean_map}
\alias{mzmv_mean_map}
\title{Estimate Means in Parallel for Multiple Grouping Variables in Mobility Survey}
\usage{
mzmv_mean_map(data, variable, ..., weight, cf = 1.14, alpha = 0.1)
}
\arguments{
\item{data}{A data frame or tibble.}

\item{variable}{Character vector of variable names to be estimated. Must be quoted (e.g., \code{"annual_family_income"}). For multiple variables, pass as a vector (e.g., \code{c("annual_family_income", "annual_household_income")}).
Does not support bare (unquoted) variable names.}

\item{...}{Grouping variables. Can be passed unquoted (e.g., \code{gender}, \code{birth_country}) or quoted (e.g., \code{"gender"}, \code{"birth_country"}). If omitted, results are aggregated across the whole dataset.}

\item{weight}{Unquoted or quoted name of the sampling weights column (must exist in \code{data}). For programmatic use with a string variable (e.g., \code{wt <- "weights"}), use \code{!!sym(wt)} in the function call.}

\item{cf}{Numeric correction factor for the confidence interval. Default is 1.14.}

\item{alpha}{Numeric significance level for confidence intervals. Default is 0.1 (90\% CI).}
}
\value{
A tibble with columns:
\describe{
  \item{variable}{Name of the estimated variable.}
  \item{group_vars}{Name of the grouping variable.}
  \item{group_vars_value}{Value of the grouping variable.}
  \item{occ}{Number of cases or observations.}
  \item{wmean}{Weighted mean.}
  \item{ci}{Confidence interval.}
}
}
\description{
\code{mzmv_mean_map()} estimates weighted means and confidence intervals for a set of features of the mobility survey, optionally grouped by one or more variables.
}
\examples{
# Multiple quoted variables
mzmv_mean_map(
  nhanes,
  variable = c("annual_family_income", "annual_household_income"),
  gender,
  birth_country,
  weight = weights
)
# No grouping variables
mzmv_mean_map(
  nhanes,
  variable = "annual_family_income",
  weight = weights
)
# Programmatic use
wt <- "weights"
mzmv_mean_map(
  nhanes,
  variable = "annual_family_income",
  gender,
  birth_country,
  weight = !!rlang::sym(wt)
)

}
