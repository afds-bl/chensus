% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/se_prop.R
\name{se_prop}
\alias{se_prop}
\title{Estimate Proportions of Categorical Variables in Structural Survey}
\usage{
se_prop(data, ..., strata, weight, alpha = 0.05)
}
\arguments{
\item{data}{A data frame or tibble.}

\item{...}{Categorical variables. Can be passed unquoted (e.g., \code{gender}, \code{birth_country}) or programmatically using \code{!!!syms(c("gender", "birth_country"))}.}

\item{strata}{Unquoted or quoted name of the strata column. Defaults to \code{zone} if omitted.}

\item{weight}{Unquoted or quoted name of the sampling weights column. For programmatic use
with a string variable (e.g., \code{wt <- "weights"}), use \code{!!sym(wt)} in the function call.}

\item{alpha}{Numeric significance level for confidence intervals. Default is 0.05 (95\% CI).}
}
\value{
A tibble with proportion estimates for all grouping column combinations, including:
\describe{
   \item{occ}{Sample size (number of observations) per group.}
   \item{prop}{Estimated proportion of the specified categorical variable in the corresponding group.}
   \item{vhat, stand_dev}{Estimated variance of the mean (\code{vhat}) and its standard deviation (\code{stand_dev}, square root of the variance).}
   \item{ci, ci_l, ci_u}{Confidence interval: half-width (\code{ci}), lower (\code{ci_l}) and upper (\code{ci_u}) bounds.}
}
}
\description{
\code{se_prop()} estimates the proportions and confidence intervals for each level of one or multiple categorical variables
of FSO's structural survey, by first converting columns into dummy variables and then estimating proportions and confidence intervals.
}
\examples{
# Direct column references (unquoted)
se_prop(
  data = nhanes,
  interview_lang,
  birth_country,
  strata = strata,
  weight = weights
)

# Quoted column names
se_prop(
  data = nhanes,
  "interview_lang",
  gender,
  "birth_country",
  strata = "strata",
  weight = weights,
)

# Programmatic use with strings
wt <- "weights"
vars <- c("interview_lang", "gender", "birth_country")
se_prop(
  data = nhanes,
  strata = strata,
  weight = !!rlang::sym(wt),
  !!!rlang::syms(vars)
)

}
